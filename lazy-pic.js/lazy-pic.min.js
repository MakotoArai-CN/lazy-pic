function lazyPic(t){this.emt=t.emt,this.animeTime=t.animeTime,this.tagType=t.tagType,this.Gaussian=void 0===t.Gaussian?1:t.Gaussian,console.log(this.Gaussian),this.lazyLoad=function(){"data-src"==this.tagType?new lazyonePic(this.emt,this.animeTime,this.Gaussian).lazyLoad():"2img"==this.tagType?new lazy2Pic(this.emt,this.animeTime,this.Gaussian).lazyLoad():"background"==this.tagType&&new lazyPicBackground(this.emt,this.animeTime,this.Gaussian).lazyLoad()}}function lazy2Pic(t,i,e){this.emt=t,this.animeTime=i,this.Gaussian=e,this.lazyLoad=function(){const t=$(this.emt),e=new IntersectionObserver(this.callback.bind(this));t.each((t,i)=>{e.observe(i)})},this.callback=function(t){t.forEach(t=>{t.isIntersecting&&this.handleImageIntersection(t)},this)},this.handleImageIntersection=function(t){t.target.complete?this.fadeOutThumbnail(t):$(t.target).on("load",()=>{t.target.complete&&this.fadeOutThumbnail(t)})},this.fadeOutThumbnail=function(t){const i=t.target.previousElementSibling?$(t.target.previousElementSibling):$(t.target.nextElementSibling);0<i.length?i.css("opacity","0").fadeOut(this.animeTime):console.log("no thumbnail")}}function lazyonePic(t,i,e){var s=this;this.emt=t,this.animeTime=i,this.Gaussian=e,console.log(e),this.lazyLoad=function(){this.style();const t=$(this.emt),e=new IntersectionObserver(this.callback.bind(this));t.each((t,i)=>{e.observe(i)})},this.callback=function(t){t.forEach(t=>{t.isIntersecting&&s.fadeOutThumbnail(t)},this)},this.fadeOutThumbnail=function(t){let e=t.target,s=e.getAttribute("data-src"),a=new IntersectionObserver(this.callback.bind(this));if(e.onload=function(){},s.match(/\/([^\/]+)\.*$/)[0]!==e.src.match(/\/([^\/]+)\.*$/)[0]){var n=Date.now();let i=new Image;i.src=s,this.Gaussian&&e.classList.add("img-blur"),i.onload=function(){e.src=i.src,a.unobserve(e);var t=Date.now()-n<200?0:this.animeTime/(this.animeTime/1e3);this.Gaussian&&s.match(/\/([^\/]+)\.*$/)[0]==e.src.match(/\/([^\/]+)\.*$/)[0]&&setTimeout(function(){e.classList.remove("img-blur"),e.classList.add("img-unblur")},t)}.bind(this)}},this.style=function(){let t=document.createElement("style");t.innerHTML=".img-blur {filter: blur(5px);transition: filter "+this.animeTime/1e3+"s ease;}.img-unblur {filter: blur(0px);transition: filter "+this.animeTime/1e3+"s ease;}",document.head.appendChild(t)}}