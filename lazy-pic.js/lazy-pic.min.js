function lazyPic(t){this.emt=t.emt,this.animeTime=t.animeTime,this.tagType=t.tagType,this.Gaussian=t.Gaussian=1,this.lazyLoad=function(){"data-src"==this.tagType?new lazyonePic(this.emt,this.animeTime,this.Gaussian).lazyLoad():"2img"==this.tagType?new lazy2Pic(this.emt,this.animeTime,this.Gaussian).lazyLoad():"background"==this.tagType&&new lazyPicBackground(this.emt,this.animeTime,this.Gaussian).lazyLoad()}}function lazy2Pic(t,i,e){this.emt=t,this.animeTime=i,this.Gaussian=e,this.lazyLoad=function(){const t=$(this.emt),e=new IntersectionObserver(this.callback.bind(this));t.each((t,i)=>{e.observe(i)})},this.callback=function(t){t.forEach(t=>{t.isIntersecting&&this.handleImageIntersection(t)},this)},this.handleImageIntersection=function(t){t.target.complete?this.fadeOutThumbnail(t):$(t.target).on("load",()=>{t.target.complete&&this.fadeOutThumbnail(t)})},this.fadeOutThumbnail=function(t){const i=t.target.previousElementSibling?$(t.target.previousElementSibling):$(t.target.nextElementSibling);0<i.length?i.css("opacity","0").fadeOut(this.animeTime):console.log("no thumbnail")}}function lazyonePic(t,i,e){var n=this;this.emt=t,this.animeTime=i,this.Gaussian=e,this.lazyLoad=function(){this.style();const t=$(this.emt),e=new IntersectionObserver(this.callback.bind(this));t.each((t,i)=>{e.observe(i)})},this.callback=function(t){t.forEach(t=>{t.isIntersecting&&n.fadeOutThumbnail(t)},this)},this.fadeOutThumbnail=function(t){let i=t.target,e=i.getAttribute("data-src"),a=new IntersectionObserver(this.callback.bind(this));if(i.onload=function(){},e.match(/\/([^\/]+)\.*$/)[0]!==i.src.match(/\/([^\/]+)\.*$/)[0]){let t=new Image;t.src=e,t.onload=function(){n.Gaussian&&i.classList.add("img-blur"),i.src=t.src,a.unobserve(i),n.Gaussian&&setTimeout(function(){i.classList.remove("img-blur"),i.classList.add("img-unblur")},n.animeTime)}}},this.style=function(){let t=document.createElement("style");t.innerHTML=".img-blur {filter: blur(5px);transition: filter 0.5s ease;}.img-unblur {filter: blur(0px);transition: filter 1s ease;}",document.head.appendChild(t)}}